<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Applied Statistics</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Applied Statistics">
  <meta name="generator" content="bookdown 0.0.72 and GitBook 2.6.7">

  <meta property="og:title" content="Applied Statistics" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://daviddalpiaz.github.io/appliedstats/" />
  
  
  <meta name="github-repo" content="daviddalpiaz/appliedstats" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Applied Statistics" />
  
  
  

<meta name="author" content="David Dalpiaz">

<meta name="date" content="2016-06-06">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="simple-linear-regression.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Applied Statistics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i><b>1.1</b> About This Book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#conventions"><i class="fa fa-check"></i><b>1.2</b> Conventions</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.3</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to <code>R</code></a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-basics"><i class="fa fa-check"></i><b>2.1</b> <code>R</code> Basics</a><ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-calculations"><i class="fa fa-check"></i><b>2.1.1</b> Basic Calculations</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#getting-help"><i class="fa fa-check"></i><b>2.1.2</b> Getting Help</a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#installing-packages"><i class="fa fa-check"></i><b>2.1.3</b> Installing Packages</a></li>
<li class="chapter" data-level="2.1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types"><i class="fa fa-check"></i><b>2.1.4</b> Data Types</a></li>
<li class="chapter" data-level="2.1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>2.1.5</b> Vectors</a></li>
<li class="chapter" data-level="2.1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#summary-statistics"><i class="fa fa-check"></i><b>2.1.6</b> Summary Statistics</a></li>
<li class="chapter" data-level="2.1.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrices"><i class="fa fa-check"></i><b>2.1.7</b> Matrices</a></li>
<li class="chapter" data-level="2.1.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>2.1.8</b> Data Frames</a></li>
<li class="chapter" data-level="2.1.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#plotting"><i class="fa fa-check"></i><b>2.1.9</b> Plotting</a></li>
<li class="chapter" data-level="2.1.10" data-path="introduction-to-r.html"><a href="introduction-to-r.html#distributions"><i class="fa fa-check"></i><b>2.1.10</b> Distributions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#programming-basics"><i class="fa fa-check"></i><b>2.2</b> Programming Basics</a><ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#logical-operators"><i class="fa fa-check"></i><b>2.2.1</b> Logical Operators</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#control-flow"><i class="fa fa-check"></i><b>2.2.2</b> Control Flow</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#functions"><i class="fa fa-check"></i><b>2.2.3</b> Functions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#hypothesis-tests-in-r"><i class="fa fa-check"></i><b>2.3</b> Hypothesis Tests in <code>R</code></a><ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#one-sample-t-test-review"><i class="fa fa-check"></i><b>2.3.1</b> One Sample t-Test: Review</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#one-sample-t-test-example"><i class="fa fa-check"></i><b>2.3.2</b> One Sample t-Test: Example</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#two-sample-t-test-review"><i class="fa fa-check"></i><b>2.3.3</b> Two Sample t-Test: Review</a></li>
<li class="chapter" data-level="2.3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#two-sample-t-test-example"><i class="fa fa-check"></i><b>2.3.4</b> Two Sample t-Test: Example</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#simulation"><i class="fa fa-check"></i><b>2.4</b> Simulation</a><ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#paired-differences"><i class="fa fa-check"></i><b>2.4.1</b> Paired Differences</a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#distribution-of-a-sample-mean"><i class="fa fa-check"></i><b>2.4.2</b> Distribution of a Sample Mean</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html"><i class="fa fa-check"></i><b>3</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="3.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#history"><i class="fa fa-check"></i><b>3.1</b> History</a></li>
<li class="chapter" data-level="3.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#model"><i class="fa fa-check"></i><b>3.2</b> Model</a></li>
<li class="chapter" data-level="3.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#what-is-the-best-line"><i class="fa fa-check"></i><b>3.3</b> What is the Best Line?</a></li>
<li class="chapter" data-level="3.4" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#least-squares-approach"><i class="fa fa-check"></i><b>3.4</b> Least Squares Approach</a></li>
<li class="chapter" data-level="3.5" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#decomposition-of-variation"><i class="fa fa-check"></i><b>3.5</b> Decomposition of Variation</a></li>
<li class="chapter" data-level="3.6" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#coefficient-of-determination"><i class="fa fa-check"></i><b>3.6</b> Coefficient of Determination</a></li>
<li class="chapter" data-level="3.7" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#mle-approach"><i class="fa fa-check"></i><b>3.7</b> MLE Approach</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="inference-for-simple-linear-regression.html"><a href="inference-for-simple-linear-regression.html"><i class="fa fa-check"></i><b>4</b> Inference for Simple Linear Regression</a></li>
<li class="divider"></li>
<li><a href="https://github.com/daviddalpiaz/appliedstats" target="blank">&copy; 2016 David Dalpiaz</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied Statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Introduction to <code>R</code></h1>
<blockquote>
<p>“Measuring programming progress by lines of code is like measuring aircraft building progress by weight.”</p>
<p>— <strong>Bill Gates</strong></p>
</blockquote>
<p><code>R</code> is both a programming language and software environment for statistical computing, which is <em>free</em> and <em>open-source</em>. To get started, you will need to install two pieces of software:</p>
<ul>
<li><code>R</code>, the actual programming language, which can be installed from <a href="http://cran.r-project.org/" class="uri">http://cran.r-project.org/</a>
<ul>
<li>Chose your operating system, and select the most recent version. (As of writing, 3.3.0.)</li>
</ul></li>
<li>RStudio, an excellent IDE for working with <code>R</code>, which can be obtained from <a href="http://www.rstudio.com/" class="uri">http://www.rstudio.com/</a> (Note, you must have <code>R</code> installed to use RStudio. RStudio is simply a way to interact with <code>R</code>.)</li>
</ul>
<p><code>R</code>’s popularity is on the rise, and everyday it becomes a better tool for statistical analysis. It even generated this book! (A skill you will learn in this coruse.) There are many good resoruces for learning <code>R</code>. They are not necessary for this course, but you may find them useful if you would like a deeper understanding of <code>R</code>:</p>
<ul>
<li><a href="http://tryr.codeschool.com/">Try R</a> from Code School.
<ul>
<li>An interactive introduction to the basics of <code>R</code>. Could be very useful for getting up to speed on <code>R</code>’s syntax.</li>
</ul></li>
<li><a href="http://www.statmethods.net/">Quick-R</a> by Robert Kabacoff.
<ul>
<li>A good reference for <code>R</code> basics.</li>
</ul></li>
<li><a href="http://www.r-tutor.com/">R Tutorial</a> by Chi Yau.
<ul>
<li>A combination reference and tutorial for <code>R</code> basics.</li>
</ul></li>
<li><a href="https://www.nostarch.com/artofr.htm">The Art of <code>R</code> Programming</a> by Norman Matloff.
<ul>
<li>Gentle introduction to the programming side of <code>R</code>. (Whereas we will focus more on the data analysis side.) A free electronic version is available through the Illinois library.</li>
</ul></li>
<li><a href="http://adv-r.had.co.nz/">Advanced <code>R</code></a> by Hadley Wickham.
<ul>
<li>From the author of several extremely popular <code>R</code> packages. Good follow-up to The Art of <code>R</code> Programming. (And more up-to-date material.)</li>
</ul></li>
<li><a href="http://www.burns-stat.com/documents/books/the-r-inferno/">The R Inferno</a> by Patrick Burns.
<ul>
<li>Likens learning the tricks of <code>R</code> to descending through the levels of hell. Very advanced material, but may be important if <code>R</code> becomes a part of your everyday toolkit.</li>
</ul></li>
<li><a href="http://rmarkdown.rstudio.com/">R Markdown</a> from RStudio.
<ul>
<li>Reference materials for RMarkdown.</li>
</ul></li>
</ul>
<p>RStudio has a large number of useful keyboard shortcuts. A list of these can be found using a keyboard shortcut, the keyboard shortcut to rule them all:</p>
<ul>
<li>On Windows: <code>Alt</code> + <code>Shift</code> + <code>K</code></li>
<li>On Mac: <code>Option</code> + <code>Shift</code> + <code>K</code></li>
</ul>
<p>The RStudio team has developed a number of “cheatsheets” for working with both <code>R</code> and RStudio which can be found <a href="https://www.rstudio.com/resources/cheatsheets/">here</a> or from the help menu inside of RStudio. <a href="http://www.rstudio.com/wp-content/uploads/2016/05/base-r.pdf">This one for Base <code>R</code> in particular</a> will summarize many of the concepts in this document.</p>
<p>When programing, it is often a good practice to follow a style guide. (Where do spaces go? Tabs of spaces? Underscores of CamelCase when naming variables?) No style guide is “correct” but it helps to be aware of what some others do. The more import thing is to be consistent with yourself.</p>
<ul>
<li><a href="http://adv-r.had.co.nz/Style.html">Hadley Wickham Style Guide</a> from <a href="http://adv-r.had.co.nz/">Advanced <code>R</code></a></li>
<li><a href="https://google.github.io/styleguide/Rguide.xml">Google Style Guide</a></li>
</ul>
<p>For this course, our main deviation from these two guides is the use of <code>=</code> in place of <code>&lt;-</code>. (More on that later.)</p>
<div id="r-basics" class="section level2">
<h2><span class="header-section-number">2.1</span> <code>R</code> Basics</h2>
<div id="basic-calculations" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Basic Calculations</h3>
<p>To get started, we’ll use <code>R</code> like a simple calculator. Note, in <code>R</code> the <code>#</code> symbol is used for comments. Lines which begin with two, <code>##</code> will indicate output.</p>
<ul>
<li>Addition, Subtraction, Multiplication and Division</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> +<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> -<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> *<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> /<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 1.5</code></pre>
<ul>
<li>Exponents</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> ^<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> ^<span class="st"> </span>(-<span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] 0.125</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">100</span> ^<span class="st"> </span>(<span class="dv">1</span> /<span class="st"> </span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="dv">1</span> /<span class="st"> </span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 0.7071068</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(<span class="dv">1</span>)</code></pre></div>
<pre><code>## [1] 2.718282</code></pre>
<ul>
<li>Mathematical Constants</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pi</code></pre></div>
<pre><code>## [1] 3.141593</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(<span class="dv">1</span>)</code></pre></div>
<pre><code>## [1] 2.718282</code></pre>
<ul>
<li>Logarithms</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">10</span>) <span class="co"># natural log</span></code></pre></div>
<pre><code>## [1] 2.302585</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log10</span>(<span class="dv">1000</span>) <span class="co"># base 10 log</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log2</span>(<span class="dv">8</span>) <span class="co"># base 2 log</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">16</span>, <span class="dt">base =</span> <span class="dv">4</span>) <span class="co"># base 4 log</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<ul>
<li>Trigonometry</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sin</span>(pi /<span class="st"> </span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cos</span>(<span class="dv">0</span>)</code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
<div id="getting-help" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Getting Help</h3>
<p>In using <code>R</code> as a calculator, we have seen a number of functions. <code>sqrt()</code>, <code>exp()</code>, <code>log()</code> and <code>sin()</code> are all <code>R</code> functions. To get documentation about a function in <code>R</code>, simply put a question mark in front of the function name and RStudio will display the documentation, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?log
?sin
?paste
?lm</code></pre></div>
<p>Frequently one of the most difficult things to do when learning <code>R</code> is asking for help. First, you need to decide to ask for help, then you need to know <em>how</em> to ask for help. Your very first line of defense should be to Google your error message or a short description of your issue. (The ability to solve problems using this method is quickly becoming an extremely valuable skill.) If that fails, and it eventually will, you should ask for help. There are a number of things you should include when emailing an instructor, or posting to a help website such as <a href="http://stats.stackexchange.com/" class="uri">http://stats.stackexchange.com/</a>.</p>
<ul>
<li>Describe what you expect the code to do.</li>
<li>State the end goal you are trying to achieve. (Sometimes what you expect the code to do, is not what you want to actually do.)</li>
<li>Provide the full text of any errors you have received.</li>
<li>Provide enough code to recreate the error. Often for the purpose of this course, you could simply email your entire <code>.R</code> or <code>.Rmd</code> file.</li>
<li>Sometimes it is also helpful to include a screenshot of your entire RStudio window when the error occurs.</li>
</ul>
<p>If you follow these steps, you will get your issue resolved much quicker, and possibly learn more in the process. Do not be discouraged by running into errors and difficulties when learning <code>R</code>. (Or any technical skill.) It is simply part of the learning process.</p>
</div>
<div id="installing-packages" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Installing Packages</h3>
<p><code>R</code> comes with a number of built-in functions and datasets, but one of the main strengths of <code>R</code> as an open-source project is its package system. Packages add additional functions and data. Frequently if you want to do something in <code>R</code>, and it isn’t available by default, there is a good chance that there is a package that will fulfill your needs.</p>
<p>To install a package, use the <code>install.packages()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</code></pre></div>
<p>Once a package is install, it must be loaded in your current <code>R</code> session before being used.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)</code></pre></div>
</div>
<div id="data-types" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Data Types</h3>
<p><code>R</code> has a number of basic data <em>types</em>.</p>
<ul>
<li>Numeric
<ul>
<li>Also known as Double. The default type when dealing with numbers.</li>
<li>Examples: <code>1</code>, <code>1.0</code>, <code>42.5</code>.</li>
</ul></li>
<li>Integer
<ul>
<li>Examples: <code>1</code>, <code>2</code>, <code>42</code></li>
</ul></li>
<li>Complex
<ul>
<li>Example: <code>4 + 2i</code></li>
</ul></li>
<li>Logical
<ul>
<li>Two possible values: <code>TRUE</code> and <code>FALSE</code>.</li>
<li>You can also use <code>T</code> and <code>F</code>, but this is <em>not</em> recommended.</li>
<li><code>NA</code> is also considered logical.</li>
</ul></li>
<li>Character
<ul>
<li>Examples: <code>&quot;a&quot;</code>, <code>&quot;Statistics&quot;</code>, <code>&quot;1 plus 2.&quot;</code></li>
</ul></li>
</ul>
<p><code>R</code> also has a number of basic data <em>structures</em>. Data structures can be either homogeneous (contain only a single data type) or heterogeneous. (Contain more than one data type.)</p>
<table>
<thead>
<tr class="header">
<th align="left">Dimension</th>
<th align="left"><strong>Homogeneous</strong></th>
<th align="left"><strong>Heterogeneous</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Vector</td>
<td align="left">List</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Matrix</td>
<td align="left">Data Frame</td>
</tr>
<tr class="odd">
<td align="left">3+</td>
<td align="left">Array</td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">2.1.5</span> Vectors</h3>
<p>Many operations in <code>R</code> make heavy use of <strong>vectors</strong>. Vectors in <code>R</code> are indexed starting at <code>1</code>. That is what the <code>[1]</code> in the output is indicating, that the first element of the row being displayed is the first element of the vector. Larger vectors will start additional rows with <code>[*]</code> where <code>*</code> is the index of the first element of the row.</p>
<p>Possibly the most common way to create a vector in <code>R</code> is using the <code>c()</code> function, which is short for combine. As the name suggests, it combines a list of numbers separated by commas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</code></pre></div>
<pre><code>## [1] 1 3 5 7 8 9</code></pre>
<p>Here <code>R</code> simply outputs this vector. If we would like to store this vector in a <strong>variable</strong> we can do so with the <strong>assignment</strong> operator <code>=</code>. In this case the variable <code>x</code> now holds the vector we just created, and we can access the vector by typing <code>x</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)
x</code></pre></div>
<pre><code>## [1] 1 3 5 7 8 9</code></pre>
<p>As an aside, there is a long history of the assignment operator in <code>R</code>. For simplicity we will use <code>=</code>, but know that often you will see <code>&lt;-</code> as the assignment operator. The pros and cons of these two are well beyond the scope of this book, but know that for our purposes you will have no issue if you simply use <code>=</code>.</p>
<p>Frequently you may wish to create a vector based on a sequence of numbers. The quickest and easiest way to do this is with the <code>:</code> operator, which creates a sequence of integers between two specified integers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dt">y =</span> <span class="dv">1</span>:<span class="dv">100</span>)</code></pre></div>
<pre><code>##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
##  [16]  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30
##  [31]  31  32  33  34  35  36  37  38  39  40  41  42  43  44  45
##  [46]  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60
##  [61]  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75
##  [76]  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
##  [91]  91  92  93  94  95  96  97  98  99 100</code></pre>
<p>Here we see <code>R</code> labeling the rows after the first since this is a large vector. Also, we see that by putting parentheses around the assignment, <code>R</code> both stores the vector in a variable called <code>y</code> and automatically outputs <code>y</code> to the console.</p>
<p>To subset a vector, we use square brackets, <code>[]</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x</code></pre></div>
<pre><code>## [1] 1 3 5 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span>]</code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>We see that <code>x[1]</code> returns the first element, and <code>x[3]</code> returns the third element.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[-<span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 1 5 7 8 9</code></pre>
<p>We can also exclude certain indexes, in this case the second element.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span>:<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] 1 3 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</code></pre></div>
<pre><code>## [1] 1 5 7</code></pre>
<p>Lastly we see that we can subset based on a vector of indicies.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span></code></pre></div>
<p>One of the biggest strengths of <code>R</code> is its use of vectorized operations. (Frequently the lack of understanding of this concept leads of a belief that <code>R</code> is <em>slow</em>. <code>R</code> is not the fastest language, but it has a reputation for being slower than it really is.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x +<span class="st"> </span><span class="dv">1</span></code></pre></div>
<pre><code>##  [1]  2  3  4  5  6  7  8  9 10 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> *<span class="st"> </span>x</code></pre></div>
<pre><code>##  [1]  2  4  6  8 10 12 14 16 18 20</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> ^<span class="st"> </span>x</code></pre></div>
<pre><code>##  [1]    2    4    8   16   32   64  128  256  512 1024</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(x)</code></pre></div>
<pre><code>##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490
##  [7] 2.645751 2.828427 3.000000 3.162278</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(x)</code></pre></div>
<pre><code>##  [1] 0.0000000 0.6931472 1.0986123 1.3862944 1.6094379 1.7917595
##  [7] 1.9459101 2.0794415 2.1972246 2.3025851</code></pre>
<p>We see that when a function like <code>log()</code> is called on a vector <code>x</code>, a vector is returned which has applied the function to each element of the vector <code>x</code>.</p>
<p>The length of a vector can be obtained with the <code>length()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vec_1 =<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
vec_2 =<span class="st"> </span><span class="dv">1</span>:<span class="dv">1000</span>
vec_3 =<span class="st"> </span><span class="dv">42</span>
<span class="kw">length</span>(vec_1)</code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(vec_2)</code></pre></div>
<pre><code>## [1] 1000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(vec_3)</code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Note that scalars do not exists in <code>R</code>. They are simply vectors of length <code>1</code>.</p>
<p>If we want to create a sequence that isn’t limited to integers and increasing by 1 at a time, we can use the <code>seq()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="fl">1.5</span>, <span class="dt">to =</span> <span class="fl">4.2</span>, <span class="dt">by =</span> <span class="fl">0.1</span>)</code></pre></div>
<pre><code>##  [1] 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9
## [16] 3.0 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9 4.0 4.1 4.2</code></pre>
<p>We will discuss functions later, but note here that <code>from</code>, <code>to</code> and <code>by</code> are optional.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="fl">1.5</span>, <span class="fl">4.2</span>, <span class="fl">0.1</span>)</code></pre></div>
<pre><code>##  [1] 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9
## [16] 3.0 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9 4.0 4.1 4.2</code></pre>
<p>Another common operation to create a vector is <code>rep()</code>, which can repeat a single value a number of times.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="fl">0.5</span>, <span class="dt">times =</span> <span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5</code></pre>
<p>Or, <code>rep()</code> can be used to repeat a vector a number of times.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(x, <span class="dt">times =</span> <span class="dv">3</span>)</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10  1  2  3  4  5  6  7  8  9 10
## [21]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>We have now seen four different ways to create vectors:</p>
<ul>
<li><code>c()</code></li>
<li><code>:</code></li>
<li><code>seq()</code></li>
<li><code>rep()</code></li>
</ul>
<p>So far we have mostly used them in isolation, but they are often used together.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(x, <span class="kw">rep</span>(<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="dv">2</span>), <span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dv">42</span>, <span class="dv">2</span>:<span class="dv">4</span>)</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10  1  3  5  7  9  1  3  5  7  9
## [21]  1  3  5  7  9  1  2  3 42  2  3  4</code></pre>
</div>
<div id="summary-statistics" class="section level3">
<h3><span class="header-section-number">2.1.6</span> Summary Statistics</h3>
<p><code>R</code> has built in functions for a large number of summary statistics.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y</code></pre></div>
<pre><code>##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
##  [16]  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30
##  [31]  31  32  33  34  35  36  37  38  39  40  41  42  43  44  45
##  [46]  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60
##  [61]  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75
##  [76]  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
##  [91]  91  92  93  94  95  96  97  98  99 100</code></pre>
<ul>
<li>Central Tendancy</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(y)</code></pre></div>
<pre><code>## [1] 50.5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">median</span>(y)</code></pre></div>
<pre><code>## [1] 50.5</code></pre>
<ul>
<li>Spread</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">var</span>(y)</code></pre></div>
<pre><code>## [1] 841.6667</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(y)</code></pre></div>
<pre><code>## [1] 29.01149</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">IQR</span>(y)</code></pre></div>
<pre><code>## [1] 49.5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(y)</code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(y)</code></pre></div>
<pre><code>## [1] 100</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">range</span>(y)</code></pre></div>
<pre><code>## [1]   1 100</code></pre>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">2.1.7</span> Matrices</h3>
<p><code>R</code> can also be used for matrix calculations. Matrices can be created using the <code>matrix</code> function.</p>
<p>TODO: matrix all same “data”&quot; type. “order matters”. has rows and columns</p>
<p>By default the <code>matrix</code> function reorders a vector into columns, but we can also tell <code>R</code> to use rows instead.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>:<span class="dv">9</span>
x</code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>)
X</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Y =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)
Y</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Z =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>)
Z</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    0    0    0    0
## [2,]    0    0    0    0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[<span class="dv">1</span>, <span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[<span class="dv">1</span>, ]</code></pre></div>
<pre><code>## [1] 1 4 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[, <span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[<span class="dv">2</span>, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</code></pre></div>
<pre><code>## [1] 2 8</code></pre>
<p>Matrices can also be created by combining vectors as columns, using <code>cbind</code> or combining vectors as rows using <code>rbind</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>:<span class="dv">9</span>
<span class="kw">rev</span>(x)</code></pre></div>
<pre><code>## [1] 9 8 7 6 5 4 3 2 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>)</code></pre></div>
<pre><code>## [1] 1 1 1 1 1 1 1 1 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cbind</span>(x, <span class="kw">rev</span>(x), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))</code></pre></div>
<pre><code>##       x    
##  [1,] 1 9 1
##  [2,] 2 8 1
##  [3,] 3 7 1
##  [4,] 4 6 1
##  [5,] 5 5 1
##  [6,] 6 4 1
##  [7,] 7 3 1
##  [8,] 8 2 1
##  [9,] 9 1 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rbind</span>(x, <span class="kw">rev</span>(x), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))</code></pre></div>
<pre><code>##   [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9]
## x    1    2    3    4    5    6    7    8    9
##      9    8    7    6    5    4    3    2    1
##      1    1    1    1    1    1    1    1    1</code></pre>
<p><code>R</code> can then be used to perform matrix calculations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>:<span class="dv">9</span>
y =<span class="st"> </span><span class="dv">9</span>:<span class="dv">1</span>
X =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dv">3</span>, <span class="dv">3</span>)
Y =<span class="st"> </span><span class="kw">matrix</span>(y, <span class="dv">3</span>, <span class="dv">3</span>)
X</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Y</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    9    6    3
## [2,]    8    5    2
## [3,]    7    4    1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X +<span class="st"> </span>Y</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   10   10
## [2,]   10   10   10
## [3,]   10   10   10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X -<span class="st"> </span>Y</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   -8   -2    4
## [2,]   -6    0    6
## [3,]   -4    2    8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X *<span class="st"> </span>Y</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    9   24   21
## [2,]   16   25   16
## [3,]   21   24    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X /<span class="st"> </span>Y</code></pre></div>
<pre><code>##           [,1]      [,2]     [,3]
## [1,] 0.1111111 0.6666667 2.333333
## [2,] 0.2500000 1.0000000 4.000000
## [3,] 0.4285714 1.5000000 9.000000</code></pre>
<p>Note that <code>X * Y</code> is not matrix multiplication. It is element by element multiplication. (Same for <code>X / Y</code>). Instead, matrix multiplication uses <code>%*%</code>. <code>t()</code> gives the transpose of a matrix, and <code>solve()</code> returns the inverse of a matrix.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X %*%<span class="st"> </span>Y</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   90   54   18
## [2,]  114   69   24
## [3,]  138   84   30</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t</span>(X)</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Z =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">9</span>, <span class="dv">2</span>, -<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, -<span class="dv">2</span>, -<span class="dv">3</span>, -<span class="dv">2</span>, <span class="dv">16</span>), <span class="dv">3</span>, <span class="dt">byrow =</span> T)
Z</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    9    2   -3
## [2,]    2    4   -2
## [3,]   -3   -2   16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">solve</span>(Z)</code></pre></div>
<pre><code>##             [,1]        [,2]       [,3]
## [1,]  0.12931034 -0.05603448 0.01724138
## [2,] -0.05603448  0.29094828 0.02586207
## [3,]  0.01724138  0.02586207 0.06896552</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">3</span>)
X</code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(X)</code></pre></div>
<pre><code>## [1] 2 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rowSums</span>(X)</code></pre></div>
<pre><code>## [1]  9 12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colSums</span>(X)</code></pre></div>
<pre><code>## [1]  3  7 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rowMeans</span>(X)</code></pre></div>
<pre><code>## [1] 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colMeans</span>(X)</code></pre></div>
<pre><code>## [1] 1.5 3.5 5.5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">diag</span>(Z)</code></pre></div>
<pre><code>## [1]  9  4 16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">diag</span>(<span class="dv">1</span>:<span class="dv">5</span>)</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    0    0    0    0
## [2,]    0    2    0    0    0
## [3,]    0    0    3    0    0
## [4,]    0    0    0    4    0
## [5,]    0    0    0    0    5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">diag</span>(<span class="dv">5</span>)</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    0    0    0    0
## [2,]    0    1    0    0    0
## [3,]    0    0    1    0    0
## [4,]    0    0    0    1    0
## [5,]    0    0    0    0    1</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">2.1.8</span> Data Frames</h3>
<p>We have previously seen vectors and matrices for storing data as we introduced <code>R</code>. We will now introduce a <strong>data frame</strong> which will be the most common way that we store and interact with data in this course.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>),
                          <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">2</span>, <span class="dv">10</span>),
                          <span class="dt">z =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">42</span>))</code></pre></div>
<p>list of vectors observations and variables order “doesn’t matter” (unlike a matrix)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(example_data)</code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data$x</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data$z</code></pre></div>
<pre><code>##  [1]  1  1  1  1  1  3  3  3  3 42</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(example_data)</code></pre></div>
<pre><code>## [1] 10  3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(example_data)</code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(example_data)</code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><a href="data/example_data.csv">data is csv here</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data_from_csv =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/example_data.csv&quot;</span>)</code></pre></div>
<p>TODO: import into R/RStudio (screenshot of button?)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mpg, <span class="dt">n =</span> <span class="dv">10</span>)</code></pre></div>
<pre><code>##    manufacturer      model displ year cyl      trans drv cty hwy
## 1          audi         a4   1.8 1999   4   auto(l5)   f  18  29
## 2          audi         a4   1.8 1999   4 manual(m5)   f  21  29
## 3          audi         a4   2.0 2008   4 manual(m6)   f  20  31
## 4          audi         a4   2.0 2008   4   auto(av)   f  21  30
## 5          audi         a4   2.8 1999   6   auto(l5)   f  16  26
## 6          audi         a4   2.8 1999   6 manual(m5)   f  18  26
## 7          audi         a4   3.1 2008   6   auto(av)   f  18  27
## 8          audi a4 quattro   1.8 1999   4 manual(m5)   4  18  26
## 9          audi a4 quattro   1.8 1999   4   auto(l5)   4  16  25
## 10         audi a4 quattro   2.0 2008   4 manual(m6)   4  20  28
##    fl   class
## 1   p compact
## 2   p compact
## 3   p compact
## 4   p compact
## 5   p compact
## 6   p compact
## 7   p compact
## 8   p compact
## 9   p compact
## 10  p compact</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(mpg)</code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    234 obs. of  11 variables:
##  $ manufacturer: chr  &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ...
##  $ model       : chr  &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; ...
##  $ displ       : num  1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...
##  $ year        : int  1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ...
##  $ cyl         : int  4 4 4 4 6 6 6 4 4 4 ...
##  $ trans       : chr  &quot;auto(l5)&quot; &quot;manual(m5)&quot; &quot;manual(m6)&quot; &quot;auto(av)&quot; ...
##  $ drv         : chr  &quot;f&quot; &quot;f&quot; &quot;f&quot; &quot;f&quot; ...
##  $ cty         : int  18 21 20 21 16 18 18 18 16 20 ...
##  $ hwy         : int  29 29 31 30 26 26 27 26 25 28 ...
##  $ fl          : chr  &quot;p&quot; &quot;p&quot; &quot;p&quot; &quot;p&quot; ...
##  $ class       : chr  &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; ...</code></pre>
</div>
<div id="plotting" class="section level3">
<h3><span class="header-section-number">2.1.9</span> Plotting</h3>
<p>TODO: look at the data. pictures are your friend.</p>
<div id="histograms" class="section level4">
<h4><span class="header-section-number">2.1.9.1</span> Histograms</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(mpg$cty)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-51-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(mpg$cty,
     <span class="dt">xlab   =</span> <span class="st">&quot;City Miles Per Gallon&quot;</span>,
     <span class="dt">main   =</span> <span class="st">&quot;Histogram of City MPG&quot;</span>,
     <span class="dt">breaks =</span> <span class="dv">12</span>,
     <span class="dt">col    =</span> <span class="st">&quot;dodgerblue&quot;</span>,
     <span class="dt">border =</span> <span class="st">&quot;darkorange&quot;</span>)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-52-1.png" width="672" /></p>
</div>
<div id="boxplots" class="section level4">
<h4><span class="header-section-number">2.1.9.2</span> Boxplots</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unique</span>(mpg$drv)</code></pre></div>
<pre><code>## [1] &quot;f&quot; &quot;4&quot; &quot;r&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(hwy ~<span class="st"> </span>drv, <span class="dt">data =</span> mpg)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-54-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(hwy ~<span class="st"> </span>drv, <span class="dt">data =</span> mpg,
     <span class="dt">xlab =</span> <span class="st">&quot;Drivetrain (f = FWD, r = RWD, 4 = 4WD)&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;Highway Miles Per Gallon&quot;</span>,
     <span class="dt">main =</span> <span class="st">&quot;Highway MPG vs Engine Displacement&quot;</span>,
     <span class="dt">pch  =</span> <span class="dv">20</span>,
     <span class="dt">cex  =</span> <span class="dv">2</span>,
     <span class="dt">col  =</span> <span class="st">&quot;darkorange&quot;</span>,
     <span class="dt">border =</span> <span class="st">&quot;dodgerblue&quot;</span>)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
</div>
<div id="scatterplots" class="section level4">
<h4><span class="header-section-number">2.1.9.3</span> Scatterplots</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(mpg$displ, mpg$hwy)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-56-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(hwy ~<span class="st"> </span>displ, <span class="dt">data =</span> mpg,
     <span class="dt">xlab =</span> <span class="st">&quot;Engine Displacement (in Liters)&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;Highway Miles Per Gallon&quot;</span>,
     <span class="dt">main =</span> <span class="st">&quot;Highway MPG vs Engine Displacement&quot;</span>,
     <span class="dt">pch  =</span> <span class="dv">20</span>,
     <span class="dt">cex  =</span> <span class="dv">2</span>,
     <span class="dt">col  =</span> <span class="st">&quot;dodgerblue&quot;</span>)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<p>TODO: Discuss formula.</p>
</div>
</div>
<div id="distributions" class="section level3">
<h3><span class="header-section-number">2.1.10</span> Distributions</h3>
<p>When working with different statistical distributions, we often want to make probabilistic statements based on the distribution.</p>
<p>We typically want to know one of four things:</p>
<ul>
<li>The density (pdf) value at a particular value of <code>x</code>.</li>
<li>The distribution (cdf) value at a particular value of <code>x</code>.</li>
<li>The quantile <code>x</code> value corresponding to a particular probability.</li>
<li>A random value from a particular distribution.</li>
</ul>
<p>This used to be done with statistical tables printed in the back of textbooks. Now, R has functions for obtaining density, distribution, quantile and random values.</p>
<p>The general naming structure of the relevant R functions is:</p>
<ul>
<li><code>dname</code> calculates density (pdf) value at input <code>x</code>.</li>
<li><code>pname</code> calculates distribution (cdf) value at input <code>x</code>.</li>
<li><code>qname</code> calculates the quantile <code>x</code> value at input probability.</li>
<li><code>rname</code> generates a random draw from a particular distribution.</li>
</ul>
<p>Note that <code>name</code> represents the name of the given distribution.</p>
<p>For example, consider a random variable <span class="math inline">\(X\)</span> which is <span class="math inline">\(N(\mu = 2, \sigma = 5)\)</span>. (Note, we are parameterizing using the standard deviation, <span class="math inline">\(\sigma\)</span>, not the variance <span class="math inline">\(\sigma^2\)</span>. This is to stay consistent with <code>R</code>.)</p>
<p>To calculate the value of the pdf at <code>x = 3</code>, that is, the height of the curve at <code>x = 3</code>, use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dnorm</span>(<span class="dv">3</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] 0.07820854</code></pre>
<p>To calculate the value of the cdf at <code>x = 3</code>, that is, <span class="math inline">\(P(X \leq 3)\)</span>, the probability that <span class="math inline">\(X\)</span> is less than or equal to <code>3</code>, use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pnorm</span>(<span class="dv">3</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] 0.5792597</code></pre>
<p>Or, to calculate the quantile for probability 0.975, use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qnorm</span>(<span class="fl">0.975</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] 11.79982</code></pre>
<p>Lastly, to generate a random sample of size <code>n = 10</code>, use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>##  [1]  0.1856788  1.6073300  7.7636809  1.1423569  1.1049945
##  [6]  0.4561869  5.5196883  4.7269892  1.8495913 -5.4672741</code></pre>
<p>These functions exist for many other distributions, including but not limited to:</p>
<table>
<thead>
<tr class="header">
<th align="left">Command</th>
<th align="left">Distribution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>*binom</code></td>
<td align="left">Binomial</td>
</tr>
<tr class="even">
<td align="left"><code>*t</code></td>
<td align="left">t</td>
</tr>
<tr class="odd">
<td align="left"><code>*pois</code></td>
<td align="left">Poisson</td>
</tr>
<tr class="even">
<td align="left"><code>*f</code></td>
<td align="left">F</td>
</tr>
<tr class="odd">
<td align="left"><code>*chisq</code></td>
<td align="left">Chi-Squared</td>
</tr>
</tbody>
</table>
<p>Where <code>*</code> can be <code>d</code>, <code>p</code>, <code>q</code>, and <code>r</code>. Each distribution will have its own set of parameters which need to be passed to the functions as arguments. For example, <code>dbinom()</code> would not have arguments for <code>mean</code> and <code>sd</code>, since those are not parameters of the distribution. Instead a binomial distribution is usually parameterized by <span class="math inline">\(n\)</span> and <span class="math inline">\(p\)</span>, however <code>R</code> chooses to call them something else. To find the names that <code>R</code> uses we would use <code>?dbinom</code> and see that <code>R</code> instead calls the arguments <code>size</code> and <code>prob</code>. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dbinom</span>(<span class="dv">6</span>, <span class="dt">size =</span> <span class="dv">10</span>, <span class="dt">prob =</span> <span class="fl">0.75</span>)</code></pre></div>
<pre><code>## [1] 0.145998</code></pre>
<p>Also note that, when using the <code>dname</code> functions with discrete distributions, they are the pmf of the distribution. For example, the above command is <span class="math inline">\(P(Y = 5)\)</span> if <span class="math inline">\(Y \sim b(n = 10, p = 0.75)\)</span>. (The probability of flipping an unfair coin <code>10</code> times and seeing <code>6</code> heads, if the probability of heads is <code>0.75</code>.)</p>
</div>
</div>
<div id="programming-basics" class="section level2">
<h2><span class="header-section-number">2.2</span> Programming Basics</h2>
<div id="logical-operators" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Logical Operators</h3>
<p>TODO: finish table</p>
<table>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="left">Summary</th>
<th align="left">Example</th>
<th align="left">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x &lt; y</code></td>
<td align="left"><code>x</code> less than <code>y</code></td>
<td align="left"><code>3 &lt; 42</code></td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left"><code>x &gt; y</code></td>
<td align="left"><code>x</code> greater than <code>y</code></td>
<td align="left"><code>3 &gt; 42</code></td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left"><code>x &lt;= y</code></td>
<td align="left"><code>x</code> less than or equal to <code>y</code></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code>x &gt;= y</code></td>
<td align="left"><code>x</code> greater than or equal to <code>y</code></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><code>x == y</code></td>
<td align="left"><code>x</code>equal to <code>y</code></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code>x != y</code></td>
<td align="left"><code>x</code> not equal to <code>y</code></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><code>!x</code></td>
<td align="left">not <code>x</code></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code>x | y</code></td>
<td align="left"><code>x</code> or <code>y</code></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><code>x &amp; y</code></td>
<td align="left"><code>x</code> and <code>y</code></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>In <code>R</code>, logical operators are vectorized.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">heights =<span class="st"> </span><span class="kw">c</span>(<span class="dv">110</span>, <span class="dv">120</span>, <span class="dv">115</span>, <span class="dv">136</span>, <span class="dv">205</span>, <span class="dv">156</span>, <span class="dv">175</span>)
weights =<span class="st"> </span><span class="kw">c</span>(<span class="dv">64</span>, <span class="dv">67</span>, <span class="dv">62</span>, <span class="dv">60</span>, <span class="dv">77</span>, <span class="dv">70</span>, <span class="dv">66</span>)
heights &lt;<span class="st"> </span><span class="dv">121</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">heights &lt;<span class="st"> </span><span class="dv">121</span> |<span class="st"> </span>heights ==<span class="st"> </span><span class="dv">156</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">weights[heights &gt;<span class="st"> </span><span class="dv">150</span>]</code></pre></div>
<pre><code>## [1] 77 70 66</code></pre>
<p>TODO: explain <code>weights[heights &gt; 150]</code></p>
<p>Be careful when comparing vectors that you are comparing vectors of the same length.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a =<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
b =<span class="st"> </span><span class="dv">2</span>:<span class="dv">4</span>
a &lt;<span class="st"> </span>b</code></pre></div>
<pre><code>## Warning in a &lt; b: longer object length is not a multiple of
## shorter object length</code></pre>
<pre><code>##  [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<p>What happened here? <code>R</code> still performed the operation, but it also gives us a warning. (To perform the operation automatically made <code>b</code> longer by repeating <code>b</code> as needed.)</p>
<p>TODO: add comparison to “scalar”</p>
<p>TODO: which.max(). MAYBE.</p>
</div>
<div id="control-flow" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Control Flow</h3>
<p>In <code>R</code>, the if/else syntax is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">if (...) {
  some R code
} else {
  more R code
}</code></pre></div>
<p>For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>
y =<span class="st"> </span><span class="dv">3</span>
if (x &gt;<span class="st"> </span>y) {
  z =<span class="st"> </span>x *<span class="st"> </span>y
  <span class="kw">print</span>(<span class="st">&quot;x is larger than y&quot;</span>)
} else {
  z =<span class="st"> </span>x +<span class="st"> </span><span class="dv">5</span> *<span class="st"> </span>y
  <span class="kw">print</span>(<span class="st">&quot;x is less than or equal to y&quot;</span>)
}</code></pre></div>
<pre><code>## [1] &quot;x is less than or equal to y&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z</code></pre></div>
<pre><code>## [1] 16</code></pre>
<p>TODO: ifelse, single, vectorized</p>
<p>Now a <code>for</code> loop example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">11</span>:<span class="dv">15</span>
for (i in <span class="dv">1</span>:<span class="dv">5</span>) {
  x[i] =<span class="st"> </span>x[i] *<span class="st"> </span><span class="dv">2</span>
}

x</code></pre></div>
<pre><code>## [1] 22 24 26 28 30</code></pre>
<p>Note that this <code>for</code> loop is very normal in many programming languages, but not in <code>R</code>. In <code>R</code> we would not use a loop, instead we would simply use a vectorized operation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">11</span>:<span class="dv">15</span>
x =<span class="st"> </span>x *<span class="st"> </span><span class="dv">2</span>
x</code></pre></div>
<pre><code>## [1] 22 24 26 28 30</code></pre>
</div>
<div id="functions" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Functions</h3>
<p>TODO: use TODO: write TODO: arguments TODO: defaults (order?) TODO: return (side effects like plotting?)</p>
<p>Lastly, we can write our own functions in <code>R</code>. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">standardize =<span class="st"> </span>function(x) {
  m =<span class="st"> </span><span class="kw">mean</span>(x)
  std =<span class="st"> </span><span class="kw">sd</span>(x)
  result =<span class="st"> </span>(x -<span class="st"> </span>m) /<span class="st"> </span>std
  result
}</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">25</span>)
<span class="kw">standardize</span>(x)</code></pre></div>
<pre><code>##  [1]  0.1149595  0.8719078  0.9818949  0.7355778 -1.8696856
##  [6] -0.1377180 -1.0274249  1.2374626 -0.1306391 -0.7763351</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">standardize =<span class="st"> </span>function(x) {
  (x -<span class="st"> </span><span class="kw">mean</span>(x)) /<span class="st"> </span><span class="kw">sd</span>(x)
}</code></pre></div>
<p>TODO: function with arguments, control flow, if based return, how return works. compare these two?</p>
<p><span class="math display">\[
s = \sqrt{\frac{1}{n - 1}\sum_{i=1}^{n}(x - \bar{x})^2}
\]</span></p>
<p><span class="math display">\[
\hat{\sigma} = \sqrt{\frac{1}{n}\sum_{i=1}^{n}(x - \bar{x})^2}
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">get_sd =<span class="st"> </span>function(x, <span class="dt">biased =</span> <span class="ot">FALSE</span>) {
  n =<span class="st"> </span><span class="kw">length</span>(x) -<span class="st"> </span><span class="dv">1</span> *<span class="st"> </span>biased
  <span class="kw">sqrt</span>((<span class="dv">1</span> /<span class="st"> </span>n) *<span class="st"> </span><span class="kw">sum</span>((x -<span class="st"> </span><span class="kw">mean</span>(x)) ^<span class="st"> </span><span class="dv">2</span>))
}</code></pre></div>
<p>TODO: explain 1 * biased</p>
</div>
</div>
<div id="hypothesis-tests-in-r" class="section level2">
<h2><span class="header-section-number">2.3</span> Hypothesis Tests in <code>R</code></h2>
<p>TODO: make all data data frames</p>
<div id="one-sample-t-test-review" class="section level3">
<h3><span class="header-section-number">2.3.1</span> One Sample t-Test: Review</h3>
<p>Suppose <span class="math inline">\(x_{i} \sim \mathrm{N}(\mu,\sigma^{2})\)</span> and we want to test <span class="math inline">\(H_{0}: \mu = \mu_{0}\)</span> versus <span class="math inline">\(H_{1}: \mu \neq \mu_{0}.\)</span></p>
<p>Assuming <span class="math inline">\(\sigma\)</span> is unknown, we use the one-sample Student’s <span class="math inline">\(t\)</span> test statistic:</p>
<p><span class="math display">\[
t = \displaystyle\frac{\bar{x}-\mu_{0}}{s/\sqrt{n}}\sim t_{n-1}
\]</span></p>
<p>where <span class="math inline">\(\bar{x} = \displaystyle\frac{\sum_{i=1}^{n}x_{i}}{n}\)</span> and <span class="math inline">\(s = \sqrt{\displaystyle\frac{\sum_{i=1}^{n}(x_{i}-\bar{x})^{2}}{n-1}}\)</span></p>
<p>A <span class="math inline">\(100(1 - \alpha)\)</span>% CI for <span class="math inline">\(\mu\)</span> is given by</p>
<p><span class="math display">\[
\bar{x} \pm t_{n-1}^{(\alpha/2)}\frac{s}{\sqrt{n}}
\]</span></p>
<p>where <span class="math inline">\(t_{n-1}^{(\alpha/2)}\)</span> is the critical value such that <span class="math inline">\(P\left(t&gt;t_{n-1}^{(\alpha/2)}\right)=\alpha/2\)</span> for <span class="math inline">\(n-1\)</span> degrees of freedom.</p>
</div>
<div id="one-sample-t-test-example" class="section level3">
<h3><span class="header-section-number">2.3.2</span> One Sample t-Test: Example</h3>
<p>A store sells “16 ounce” boxes of <em>Captain Crisp</em> cereal. A random sample of 9 boxes was taken and weighed. The results were</p>
<p><span class="math display">\[
15.5 \quad 16.2  \quad 16.1  \quad 15.8  \quad 15.6  \quad 16.0  \quad 15.8  \quad 15.9  \quad 16.2
\]</span></p>
<p>ounces. Assume the weight of cereal in a box is normally distributed.</p>
<p><strong>a)</strong> Compute the sample mean <span class="math inline">\(\bar{x}\)</span> and the sample standard deviation <span class="math inline">\(s\)</span>.</p>
<p><span class="math display">\[
\begin{split}
\bar{x} &amp;= \frac{1}{n}\sum_{i=1}^{n}x_{i}=(1/9)(15.5+\cdots+16.2) = (1/9)(143.1)=\textbf{15.9}\\
s^{2} &amp;=\frac{1}{n-1}\sum_{i=1}^{n}(x_{i}-\bar{x})^{2}=\frac{1}{n-1}\left[\sum_{i=1}^{n}x_{i}^{2} - n \bar{x}^{2}\right]\\
&amp;= (1/8)\left[2275.79 - 9(15.9^2)\right] = (1/8)(0.5) = 0.0625\\
s &amp;= \sqrt{0.0625} = \textbf{0.25}
\end{split}
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="kw">c</span>(<span class="fl">15.5</span>, <span class="fl">16.2</span>, <span class="fl">16.1</span>, <span class="fl">15.8</span>, <span class="fl">15.6</span>, <span class="fl">16.0</span>, <span class="fl">15.8</span>, <span class="fl">15.9</span>, <span class="fl">16.2</span>)
<span class="kw">mean</span>(x)</code></pre></div>
<pre><code>## [1] 15.9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(x)</code></pre></div>
<pre><code>## [1] 0.25</code></pre>
<p><strong>b)</strong> Construct a <span class="math inline">\(95\%\)</span> confidence interval for the overall average weight of boxes of <em>Captain Crisp</em> cereal.</p>
<p><span class="math inline">\(t_{n-1}^{(\alpha/2)}=t_{8}^{(0.025)}=2.306\)</span>, so the 95% CI for the average weight of a cereal box is:</p>
<p><span class="math display">\[
\begin{split}
15.9 \pm 2.306\sqrt{\frac{0.0625}{9}} &amp; = [15.708, 16.092]
\end{split}
\]</span></p>
<p>Or, in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t.test</span>(x, <span class="dt">alternative =</span> <span class="kw">c</span>(<span class="st">&quot;two.sided&quot;</span>), <span class="dt">conf.level =</span> <span class="fl">0.95</span>)</code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  x
## t = 190.8, df = 8, p-value = 6.372e-16
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  15.70783 16.09217
## sample estimates:
## mean of x 
##      15.9</code></pre>
<p>Or if we only wanted to display the interval:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t.test</span>(x, <span class="dt">alternative =</span> <span class="kw">c</span>(<span class="st">&quot;two.sided&quot;</span>), <span class="dt">conf.level =</span> <span class="fl">0.95</span>)$conf.int</code></pre></div>
<pre><code>## [1] 15.70783 16.09217
## attr(,&quot;conf.level&quot;)
## [1] 0.95</code></pre>
<p>Or, we could calculate it “by hand” in <code>R</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qt</span>(<span class="fl">0.975</span>, <span class="dv">8</span>)</code></pre></div>
<pre><code>## [1] 2.306004</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="kw">mean</span>(x) -<span class="st"> </span><span class="kw">qt</span>(<span class="fl">0.975</span>, <span class="dv">8</span>) *<span class="st"> </span><span class="kw">sd</span>(x) /<span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">9</span>),
  <span class="kw">mean</span>(x) +<span class="st"> </span><span class="kw">qt</span>(<span class="fl">0.975</span>, <span class="dv">8</span>) *<span class="st"> </span><span class="kw">sd</span>(x) /<span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">9</span>))</code></pre></div>
<pre><code>## [1] 15.70783 16.09217</code></pre>
<p><strong>c)</strong> The company that makes <em>Captain Crisp</em> cereal claims that the average weight of its box is at least 16 ounces. Use a 0.05 level of significance to test the company’s claim. What is the p-value of this test?</p>
<p>To test <span class="math inline">\(H_{0}: \mu \geq 16\)</span> versus <span class="math inline">\(H_{1}: \mu &lt; 16\)</span>, the test statistic is</p>
<p><span class="math display">\[
\begin{split}
T=\frac{15.9-16}{\sqrt{0.0625/9}}=-1.2
\end{split}
\]</span></p>
<p>We know that <span class="math inline">\(T\sim t_{8}\)</span>, so the rejection reject is <span class="math inline">\(T &lt; -t_{n-1}^{(\alpha)}=-t_{8}^{(0.05)}= -1.860.\)</span></p>
<p>Therefore, we <strong>do NOT reject the null hypothesis</strong> at the <span class="math inline">\(\alpha=.05\)</span> level. We could have also bounded the p-value of the test using the <span class="math inline">\(t\)</span> table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t.test</span>(x, <span class="dt">mu =</span> <span class="dv">16</span>, <span class="dt">alternative =</span> <span class="kw">c</span>(<span class="st">&quot;less&quot;</span>), <span class="dt">conf.level =</span> <span class="fl">0.95</span>)</code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  x
## t = -1.2, df = 8, p-value = 0.1322
## alternative hypothesis: true mean is less than 16
## 95 percent confidence interval:
##      -Inf 16.05496
## sample estimates:
## mean of x 
##      15.9</code></pre>
</div>
<div id="two-sample-t-test-review" class="section level3">
<h3><span class="header-section-number">2.3.3</span> Two Sample t-Test: Review</h3>
<p>Suppose <span class="math inline">\(x_{i}\sim\mathrm{N}(\mu_{x},\sigma^{2})\)</span> and <span class="math inline">\(y_{i}\sim\mathrm{N}(\mu_{y},\sigma^{2}).\)</span></p>
<p>Want to test <span class="math inline">\(H_{0}: \mu_{x}-\mu_{y} = \mu_{0}\)</span> versus <span class="math inline">\(H_{1}: \mu_{x}-\mu_{y} \neq \mu_{0}.\)</span></p>
<p>Assuming <span class="math inline">\(\sigma\)</span> is unknown, use the two-sample Student’s <span class="math inline">\(t\)</span> test statistic:</p>
<p><span class="math display">\[
T=\frac{(\bar{x}-\bar{y})-\mu_{0}}{s_{p}\sqrt{\frac{1}{n}+\frac{1}{m}}}\sim t_{n+m-2}
\]</span></p>
<p>where <span class="math inline">\(\displaystyle\bar{x}=\frac{\sum_{i=1}^{n}x_{i}}{n}\)</span>, <span class="math inline">\(\displaystyle\bar{y}=\frac{\sum_{i=1}^{m}y_{i}}{m}\)</span>, and <span class="math inline">\(s_p^2 = \displaystyle\frac{(n-1)s_1^2+(m-1)s_2^2}{n+m-2}\)</span></p>
<p>A <span class="math inline">\(100(1-\alpha)\)</span>% CI for <span class="math inline">\(\mu_{x}-\mu_{y}\)</span> is given by</p>
<p><span class="math display">\[
(\bar{x}-\bar{y})\pm t_{n+m-2}^{(\alpha/2)}\left(s_{p}\textstyle\sqrt{\frac{1}{n}+\frac{1}{m}}\right)
\]</span></p>
<p>where <span class="math inline">\(t_{n+m-2}^{(\alpha/2)}\)</span> is critical <span class="math inline">\(t_{n+m-2}\)</span> value such that <span class="math inline">\(P\left(T&gt;t_{n+m-2}^{(\alpha/2)}\right)=\alpha/2\)</span>.</p>
</div>
<div id="two-sample-t-test-example" class="section level3">
<h3><span class="header-section-number">2.3.4</span> Two Sample t-Test: Example</h3>
<p>Assume that the distributions of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are <span class="math inline">\(\mathrm{N}(\mu_{1},\sigma^{2})\)</span> and <span class="math inline">\(\mathrm{N}(\mu_{2},\sigma^{2})\)</span>, respectively. Given the <span class="math inline">\(n = 6\)</span> observations of <span class="math inline">\(X\)</span>,</p>
<p><span class="math display">\[
70, \qquad 82, \qquad 78, \qquad 74, \qquad 94, \qquad 82 
\]</span></p>
<p>and the <span class="math inline">\(m = 8\)</span> observations of <span class="math inline">\(Y\)</span>,</p>
<p><span class="math display">\[
64, \qquad 72, \qquad 60, \qquad 76, \qquad 72, \qquad 80, \qquad 84, \qquad 68
\]</span></p>
<p>find the p-value for the test <span class="math inline">\(H_{0}: \mu_{1} = \mu_{2}\)</span> versus <span class="math inline">\(H_{1}: \mu_{1} &gt; \mu_{2}\)</span>.</p>
<p>First, note that the sample means and variances are given by</p>
<p><span class="math display">\[
\begin{split}
\bar{x} &amp;= (1/6)\textstyle\sum_{i=1}^{6}x_{i}=(1/6)480=80\\
\bar{y} &amp;= (1/8)\textstyle\sum_{i=1}^{8}y_{i}=(1/8)576=72\\
s_{x}^{2} &amp;= (1/5)\textstyle\sum_{i=1}^{6}(x_{i}-\bar{x})^{2}=(1/5)344=68.8\\
s_{y}^{2} &amp;= (1/7)\textstyle\sum_{i=1}^{8}(y_{i}-\bar{y})^{2}=(1/7)448=64\\
\end{split}
\]</span></p>
<p>which implies that the pooled variance estimate is given by</p>
<p><span class="math display">\[
\begin{split}
s_{p}^{2} &amp;= \frac{(n-1)s_{x}^{2}+(m-1)s_{y}^{2}}{n+m-2}\\
&amp;= \frac{344+448}{12}\\
&amp;=66
\end{split}
\]</span></p>
<p>Thus, the relevant <span class="math inline">\(t\)</span> test statistic is given by</p>
<p><span class="math display">\[
\begin{split}
T &amp;= \frac{(\bar{x}-\bar{y})-\mu_{0}}{s_{p}\sqrt{\frac{1}{n}+\frac{1}{m}}}\\
&amp;= \frac{(80-72)-0}{\sqrt{66}\sqrt{\frac{1}{6}+\frac{1}{8}}}\\
&amp;= 1.82337
\end{split}
\]</span></p>
<p>Note that <span class="math inline">\(T\sim t_{12}\)</span>, so</p>
<p><span class="math display">\[
0.025 &lt; p-value &lt; 0.05
\]</span></p>
<p>since</p>
<p><span class="math display">\[
t_{12}^{(0.025)} = 1.782&lt; 1.82337 &lt; t_{12}^{(0.05)} = 2.179.
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="kw">c</span>(<span class="dv">70</span>, <span class="dv">82</span>, <span class="dv">78</span>, <span class="dv">74</span>, <span class="dv">94</span>, <span class="dv">82</span>)
y =<span class="st"> </span><span class="kw">c</span>(<span class="dv">64</span>, <span class="dv">72</span>, <span class="dv">60</span>, <span class="dv">76</span>, <span class="dv">72</span>, <span class="dv">80</span>, <span class="dv">84</span>, <span class="dv">68</span>)
<span class="kw">t.test</span>(x, y, <span class="dt">alternative =</span> <span class="kw">c</span>(<span class="st">&quot;greater&quot;</span>), <span class="dt">var.equal =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## 
##  Two Sample t-test
## 
## data:  x and y
## t = 1.8234, df = 12, p-value = 0.04662
## alternative hypothesis: true difference in means is greater than 0
## 95 percent confidence interval:
##  0.1802451       Inf
## sample estimates:
## mean of x mean of y 
##        80        72</code></pre>
<p>Or, performing the calculations <code>by hand' in</code>R`:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sPooled2 =<span class="st"> </span>((<span class="dv">6</span> -<span class="st"> </span><span class="dv">1</span>) *<span class="st"> </span><span class="kw">var</span>(x) +<span class="st"> </span>(<span class="dv">8</span> -<span class="st"> </span><span class="dv">1</span>) *<span class="st"> </span><span class="kw">var</span>(y)) /<span class="st"> </span>(<span class="dv">6</span> +<span class="st"> </span><span class="dv">8</span> -<span class="st"> </span><span class="dv">2</span>)
sPooled2</code></pre></div>
<pre><code>## [1] 66</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">test_stat =<span class="st"> </span>(<span class="kw">mean</span>(x) -<span class="st"> </span><span class="kw">mean</span>(y)) /<span class="st"> </span><span class="kw">sqrt</span>(sPooled2 *<span class="st"> </span>(<span class="dv">1</span> /<span class="st"> </span><span class="dv">6</span> +<span class="st"> </span><span class="dv">1</span> /<span class="st"> </span><span class="dv">8</span>))
test_stat</code></pre></div>
<pre><code>## [1] 1.823369</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> -<span class="st"> </span><span class="kw">pt</span>(test_stat, <span class="dv">6</span> +<span class="st"> </span><span class="dv">8</span> -<span class="st"> </span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 0.04661961</code></pre>
</div>
</div>
<div id="simulation" class="section level2">
<h2><span class="header-section-number">2.4</span> Simulation</h2>
<p>TODO: general comments on simulations</p>
<div id="paired-differences" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Paired Differences</h3>
<p>TODO: change example splits into narration</p>
<p>Consider the model:</p>
<p><span class="math display">\[
\begin{split}
X_{11}, X_{12}, \ldots, X_{1n} \sim N(\mu_1,\sigma^2)\\
X_{21}, X_{22}, \ldots, X_{2n} \sim N(\mu_2,\sigma^2)
\end{split}
\]</span></p>
<p>Assume that <span class="math inline">\(\mu_1 = 6\)</span>, <span class="math inline">\(\mu_2 = 5\)</span>, <span class="math inline">\(\sigma^2 = 4\)</span> and <span class="math inline">\(n = 25\)</span>.</p>
<p>Let <span class="math inline">\(\bar{X_1} = \displaystyle\frac{1}{n}\sum_{i=1}^{n}X_{1i}\)</span>, <span class="math inline">\(\bar{X_2} = \displaystyle\frac{1}{n}\sum_{i=1}^{n}X_{2i}\)</span> and <span class="math inline">\(D = \bar{X_1} - \bar{X_2}.\)</span></p>
<p><strong>Find <span class="math inline">\(P(0 &lt; D &lt; 2)\)</span>.</strong></p>
<p><span class="math display">\[
D = \bar{X_1} - \bar{X_2} \sim N\left(\mu_1-\mu_2, \displaystyle\frac{\sigma^2}{n}+\displaystyle\frac{\sigma^2}{n}\right) = N\left(6-5, \displaystyle\frac{4}{25}+\displaystyle\frac{4}{25}\right)
\]</span></p>
<p>So,</p>
<p><span class="math display">\[
D \sim N(1, 0.32)
\]</span></p>
<p>Thus,</p>
<p><span class="math display">\[
P(0 &lt; D &lt; 2) = P (-1.77 &lt; Z &lt; 1.77)  =  0.9616  - 0.0384  =  0.9232.
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z =<span class="st"> </span><span class="dv">1</span> /<span class="st"> </span><span class="kw">sqrt</span>(<span class="fl">0.32</span>)
<span class="kw">pnorm</span>(z) -<span class="st"> </span><span class="kw">pnorm</span>(-z)</code></pre></div>
<pre><code>## [1] 0.9229001</code></pre>
<p><strong>Empirical distribution of <span class="math inline">\(D\)</span></strong></p>
<p>TODO: split chunks and add narration</p>
<p>Generate <span class="math inline">\(S = 1000\)</span> datasets for each of group 1 and group 2. For each of the <span class="math inline">\(s = 1 : 1000\)</span> datasets, compute <span class="math inline">\(d_s = \bar{x}_{1s} - \bar{x}_{2s}\)</span>. Make a histogram for the <span class="math inline">\(1000\)</span> values of <span class="math inline">\(d\)</span>. What is the proportion of values of <span class="math inline">\(d\)</span> (among the 1000 values of <span class="math inline">\(d\)</span> generated) that are between 0 and 2?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">42</span>)
sample_size =<span class="st"> </span><span class="dv">25</span>
mu1 =<span class="st"> </span><span class="dv">6</span>
mu2 =<span class="st"> </span><span class="dv">5</span>
std =<span class="st"> </span><span class="dv">2</span>

samples =<span class="st"> </span><span class="dv">10000</span>
count =<span class="st"> </span><span class="dv">0</span>
differences =<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, samples)

for (i in <span class="dv">1</span>:samples) {
  x1 =<span class="st"> </span><span class="kw">rnorm</span>(sample_size, mu1, std)
  x2 =<span class="st"> </span><span class="kw">rnorm</span>(sample_size, mu2, std)
  differences[i] =<span class="st"> </span><span class="kw">mean</span>(x1) -<span class="st"> </span><span class="kw">mean</span>(x2)
}

<span class="kw">mean</span>(<span class="dv">0</span> &lt;<span class="st"> </span>differences &amp;<span class="st"> </span>differences &lt;<span class="st"> </span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 0.9222</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(differences, <span class="dt">breaks =</span> <span class="dv">20</span>, <span class="dt">main =</span> <span class="st">&quot;Empirical Distribution of Differences&quot;</span>)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-82-1.png" width="672" /></p>
</div>
<div id="distribution-of-a-sample-mean" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Distribution of a Sample Mean</h3>
<p>TODO: Move in front of paired? TODO: split chunks and add narration</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">42</span>)
sample_size =<span class="st"> </span><span class="dv">50</span>
mu =<span class="st"> </span><span class="dv">10</span>
samples =<span class="st"> </span><span class="dv">100000</span>
x_bar =<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, samples)

for(i in <span class="dv">1</span>:samples){
  x_bar[i] =<span class="st"> </span><span class="kw">mean</span>(<span class="kw">rpois</span>(sample_size, <span class="dt">lambda =</span> mu))
}

x_bar_hist =<span class="st"> </span><span class="kw">hist</span>(x_bar, <span class="dt">breaks =</span> <span class="dv">50</span>, 
                  <span class="dt">main =</span> <span class="st">&quot;Histogram of Sample Means&quot;</span>,
                  <span class="dt">xlab =</span> <span class="st">&quot;Sample Means&quot;</span>)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="kw">mean</span>(x_bar), mu)</code></pre></div>
<pre><code>## [1] 10.00009 10.00000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="kw">sd</span>(x_bar), <span class="kw">sqrt</span>(mu) /<span class="st"> </span><span class="kw">sqrt</span>(sample_size))</code></pre></div>
<pre><code>## [1] 0.4454965 0.4472136</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(x_bar &gt;<span class="st"> </span>mu -<span class="st"> </span><span class="dv">2</span> *<span class="st"> </span><span class="kw">sqrt</span>(mu) /<span class="st"> </span><span class="kw">sqrt</span>(sample_size) &amp;
<span class="st">       </span>x_bar &lt;<span class="st"> </span>mu +<span class="st"> </span><span class="dv">2</span> *<span class="st"> </span><span class="kw">sqrt</span>(mu) /<span class="st"> </span><span class="kw">sqrt</span>(sample_size))</code></pre></div>
<pre><code>## [1] 0.95459</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">shading =<span class="st"> </span><span class="kw">ifelse</span>(x_bar_hist$breaks &gt;<span class="st"> </span>mu -<span class="st"> </span><span class="dv">2</span> *<span class="st"> </span><span class="kw">sqrt</span>(mu) /<span class="st"> </span><span class="kw">sqrt</span>(sample_size) &amp;<span class="st"> </span>
<span class="st">                   </span>x_bar_hist$breaks &lt;<span class="st"> </span>mu +<span class="st"> </span><span class="dv">2</span> *<span class="st"> </span><span class="kw">sqrt</span>(mu) /<span class="st"> </span><span class="kw">sqrt</span>(sample_size),
                  <span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;dodgerblue&quot;</span>)

x_bar_hist =<span class="st"> </span><span class="kw">hist</span>(x_bar, <span class="dt">breaks =</span> <span class="dv">50</span>, <span class="dt">col =</span> shading,
                  <span class="dt">main =</span> <span class="st">&quot;Histogram of Sample Means, Two Standard Deviations&quot;</span>,
                  <span class="dt">xlab =</span> <span class="st">&quot;Sample Means&quot;</span>)</code></pre></div>
<p><img src="applied_statistics_files/figure-html/unnamed-chunk-83-2.png" width="672" /></p>
<p>TODO: spell check</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simple-linear-regression.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/daviddalpiaz/appliedstats/edit/master/01-r-intro.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
